<!DOCTYPE html>
<html>
    <head>

    </head>
    <body>
        <h2>List of Users</h2>
        <br>

        <div class="conatiner" style="padding-left: 20px;">

            <table class="table">
                <tr>
                    <th>
                        Username
                    </th>
                    <th>Email</th>
                    <th>Role</th>
                    <th *ngIf="isSuperAdmin">Manage</th>
                    <th>Groups</th>
  
                </tr>
                <tr style="padding-top:20px;" *ngFor = "let user of users; let i = index"> 
                    <td>{{user.username}}</td> 
                    <td>{{user.email}}</td>  
                    <td>{{user.role}}</td>  
                    
                    <td *ngIf="isSuperAdmin">
                        <span class="btn btn-primary" (click)="giveSuperRole(user.username)" > <i class="fa fa-spinner" ></i>Super Admin</span> 
                        &nbsp; 
                        <span class="btn btn-primary" (click)="removeUser(user.username)"><i class="fa fa-trash"></i> Delete</span>
                    </td> 
                    <td *ngFor = "let group of user.groups">{{group.name}}, </td>  
                    
                </tr>
            </table>
        </div>

        <br><br>
  
        <div class="add_user_group_form" *ngIf="!isGroupAssis">
            <h4>Invite User</h4>
            <form>
                Groups: 
                <select [(ngModel)] = "add_group" name="add_group">
                    <option [ngValue] ="null">Select Group</option>
                    <option *ngFor="let group of groups">
                        {{group.name}}
                    </option>
                </select>

                Users: 
                <select [(ngModel)] = "add_username" name="add_username">
                    <option [ngValue] ="null">Select User</option>
                    <option *ngFor="let user of users">
                        {{user.username}}
                    </option>
                </select>

                <input type="submit" value="Invite User" (click)="inviteUser()">
            </form>
        </div>

    </body>
    
</html>